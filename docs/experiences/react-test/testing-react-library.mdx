---
id: testing-react-library
title: testing react library
---
## Testing React Library
ุณุน ุดูุฏ ุงุฒ `ByTestId` ฺฉูุชุฑ ุงุณุชูุงุฏู ุดูุฏ ( ุชุณุช ุจุฑ ุงุณุงุณ `id` ฺฉ ุจ ุงููุงู ุฏุงุฏู ุงู. )

[testing react library](https://testing-library.com/docs/queries/about)

2 ูุทุนู ฺฉุฏ ุฒุฑุ ฺฉ ููููู ุณุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุชุณุช ุฏุฑ `react` ู ุจุงุดุฏ:

```tsx
// Counter.tsx
import React, { useState } from "react";
interface CounterProps {
  description: string;
  defaultCount: number;
}
export default function Counter({ description, defaultCount }: CounterProps) {
  const [count, setCount] = useState(defaultCount);
  const [incrementor, setIncrementor] = useState(1);
  return (
    <div>
      <h2>
        DESC: {description} - DC: {defaultCount}
      </h2>
      <label>
        Incrementor
        <input value={incrementor} onChange = {e => setIncrementor(parseInt(e.target.value) || 0)} type="number" />
      </label>
      <button aria-label="decrement" onClick={() => setCount(count - incrementor)}>
        -
      </button>
      Current Count: {count}
      <button aria-label="increment" onClick={() => setCount(count + incrementor)}>
        +
      </button>
    </div>
  );
}
```

```tsx
// Counter.spec.tsx
import { render, screen } from "@testing-library/react";
import user from "@testing-library/user-event";
import Counter from "./Counter";
describe("Counter", () => {
    describe("Initialized with defaultCount=10 and description='WWW'", () => {
        beforeEach(() => {
          // eslint-disable-next-line testing-library/no-render-in-setup
          render(<Counter defaultCount={10} description="WWW" />);
        });
        it("renders 'Current Count: 10'", () => {
          expect(screen.getByText("Current Count: 10")).toBeInTheDocument();
        });
        it("renders title as 'WWW'", () => {
          expect(screen.getByText(/WWW/i)).toBeInTheDocument();
        });
        describe("When the incrementor changes to 5 and '+' button is clicked", () => {
            beforeEach(() => {
                user.type(screen.getByLabelText(/Incrementor/), "{selectall}5");
                user.click(screen.getByRole("button", {name: "increment"}));
            });
            it("renders 'Current Count: 15'", () => {
                expect(screen.getByText("Current Count: 15")).toBeInTheDocument();
            })
        });
        describe("When the incrementor changes to 25 and '-' button is clicked", () => {
            beforeEach(() => {
                user.type(screen.getByLabelText(/Incrementor/), "{selectall}25");
                user.click(screen.getByRole("button", {name: "decrement"}));
            });
            it("renders 'Current Count: -15'", () => {
                expect(screen.getByText("Current Count: -15")).toBeInTheDocument();
            })
        });
      });
  describe("Initialized with defaultCount=0 and description='My Counter'", () => {
    beforeEach(() => {
      // eslint-disable-next-line testing-library/no-render-in-setup
      render(<Counter defaultCount={0} description="My Counter" />);
    });
    it("renders 'Current Count: 0'", () => {
      expect(screen.getByText("Current Count: 0")).toBeInTheDocument();
    });
    it("renders title as 'My Counter'", () => {
      expect(screen.getByText(/my counter/i)).toBeInTheDocument();
    });
    describe("when - is clicked", () => {
        beforeEach(() => {
            user.click(screen.getByRole("button", {name: "decrement"}));
        });
        it("renders 'Current Count: -1'", () => {
            expect(screen.getByText("Current Count: -1")).toBeInTheDocument()
        })
    });
    describe("when + is clicked", () => {
        beforeEach(() => {
            user.click(screen.getByRole("button", {name: "increment"}));
        });
        it("renders 'Current Count: 1'", () => {
            expect(screen.getByText("Current Count: 1")).toBeInTheDocument()
        })
    });
  });
});
```

`describe`:
ู ุชูุงู ุจุฑุง ุทุจูู ุจูุฏ `section` ูุง ูุฑ ุจุฎุด ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏ ฺฉ ูุงููุฏู `div` ู ุจุงุดุฏ.

`beforeEach`:
ุงุฒ ุงู ูุชุฏ ุจุฑุง ุงุฌุฑุง ฺูุฏ ุฎุท ฺฉุฏ ฺฉ ุฏุฑ ุฌุงูุง ุฏฺฏุฑ ุชฺฉุฑุงุฑ ุดุฏู ุงุณุชุ ุงุณุชูุงุฏู ูฺฉูู ฺฉ ููุท ุจุฑุง ุชูุฒ ฺฉุฏ ูุง ู ุจุงุดุฏ.

`it`:
ุจุฑุง ุงูุฌุงู ุชุณุช ุฑู ูุฑ ุจุฎุด ุจุงุฏ ุงุฒ ุงู ูุชุฏ ุงุณุชูุงุฏู ฺฉูู ู ูุดุฎุต ฺฉูู ฺฉ ูุฎูุงู ฺฉุฏุงู ุงููุงู ุฑุง ุงูุชุฎุงุจ ู ุณูพุณ ุฑู ุขู ุชุณุช ุจููุณู

โจ ู ุชูุงู ุจุฌุง `it` ุงุฒ `fit` ุงุณุชูุงุฏู ฺฉูู ู ุขู ูุฎูู `focus it` ู ุจุงุดุฏ ฺฉ ุงุจุชุฏุง ุขู ุชุณุช ฺฉ ุจุง `fit` ุจุงุดุฏ ุงุฌุฑุง ู ุดูุฏ ู ุณูพุณ ูุงุจู ุชุณุช ูุง ุงุฌุฑุง ูุดููุฏ.

`expect`:
ุงูุชุธุงุฑุงุช ุฎูุฏูุงู ุฑุง ุงุฒ ุชุณุช ูููุณูุ ุนู ุงูุชุธุงุฑ ุฏุงุฑู ฺฉ ุงููุงู ุงูุชุฎุงุจ ุง ุจุฎุด ุงูุชุฎุงุจ ุจุฑุง ุชุณุชุ ฺ ุฌูุงุจ ุจ ูุง ุจุฏูุฏ.

`user`:
ุฏุฑ ูุงูุน ฺฉุงุฑ ููุงู `fireEvent` ุฑุง ุงูุฌุงู ูุฏูุฏ ุงูุง ุณุงุฎุชุงุฑ ุจูุชุฑ ุฏุงุฑุฏ ู ุชูุฑุจุง 99 ุฏุฑุตุฏ ูุชุฏ ูุง `fireEvent` ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุฑุฏ ( ูุงููุฏ: `click`, `type`, `change` )

`screen`:
ูุฑฺฏุงู ุจุฎูุงูู ุจ ุงููุงู ูุง ุฏุฑ ุตูุญู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดูุ ุจุงุฏ ุงุฒ ุทุฑู ุงู `class` ุจ ุขู ูุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดู ฺฉ ุฎูุฏ ูุชุฏ ูุง ุฒุงุฏ ุจุฑุง ุงูุชุฎุงุจ ุงูุงู ูุง ุจ ูุง ูุฏูุฏ.( ูุงููุฏ: `getByRole`, `getByText`, `toBeInTheDocument` )

๐ ุญุชูุง ุจุฑุง ุชุณุช ููุณ ุจุฑุง ูุฑ ุจุฎุด ุฏุฑ ฺฉุฏ ูุง ูพุฑูฺูุ ุจ ุฏุงฺฉูููุช ุงูู ููู ุตูุญู ูุฑุงุฌุนู ุดูุฏ.

๐ ู ุชูุงู ุจุฑุง ุงูฺฉู ููุท ฺฉ ูุงู ุงุฒ ุชุณุช ูุง ุงุฌุฑุง ุดูุฏ ุงุฒ ุฏุณุชูุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉูู :

```shell
npm t -- counter.spec.tsx
```

### async test

