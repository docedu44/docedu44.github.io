---
id: docker-react
title: docker-react
author: mamadfar
---

### Dockerfile

ุจุฑุง ุดุฑูุน ุงุจุชุฏุง ุจุงุฏ ฺฉ **Dockerfile** ( ุฏููุง ุจุง ููู ูุงู ) ุฏุฑ ูููุฏุฑ ุงุตู ูพุฑูฺู ุจุณุงุฒู ู ฺฉุฏ ูุง ุฒุฑ ุฑุง ุฏุฑ ุขู ุงุณุชูุงุฏู ฺฉูู:

<div dir="ltr">

```docker
    FROM node:14.17.3-alpine3.14
    WORKDIR /hami-dashboard
    ENV PATH="./node_modules/.bin:$PATH"
    COPY . ./
    RUN npm install
    RUN npm run build
    RUN npm rebuild node-sass
    CMD ["npm", "start"]
    EXPOSE 3010
```

</div>

`FROM`: ุจุณุชู ุจู ูุฑฺู ุงุณุชูุงุฏู ุดุฏู **node** ุฏุฑ ููฺฏุงู ุณุงุฎุช ูพุฑูฺูุ ูุฑฺู ุขู ุฑุง ููุงุจู **FROM** ู ููุณู ( ุญุชูุง ูุจู ุงุฒ ุขู ุจุงุฏ ุฏุฑ ุณุงุช **hub.docker.com** ฺฺฉ ฺฉูู ฺฉ ูุฑฺู ููุดุชู ุดุฏูุ ููุฌูุฏ ุจุงุดุฏ ).

`WORKDIR`: ูุณุฑ ูููุฏุฑ ุงุตู ูพุฑูฺู ู ุจุงุดุฏ ฺฉ **Dockerfile** ุฏุฑ ุขู ู ุจุงุดุฏ.

`ENV PATH`: ูุณุฑ ูุงฺูู ูุง ุงุณุชูุงุฏู ุดุฏู ู ุจุงุดุฏ ฺฉ ุจุฑุง **JS** ุจุงุฏ ูุณุฑ **node_modules** ุฏุงุฏู ุดูุฏ.

`COPY`: ุขุฑฺฏููุงู ุงูู ูุณุฑ ู ูุงู ูุงู ููุฑุฏ ูุธุฑ ู ุจุงุดุฏ ู ุขุฑฺฏููุงู ุฏูู ูุณุฑ ูููุฏุฑ ููุฑุฏ ูุธุฑ ุฏุฑ ุฏุงฺฉุฑ ู ุจุงุดุฏ ( ูุงู ูุง ฺฉูพ ู ุดููุฏ ู ุฏุฑ ุฏุงฺฉุฑ ุงูุตุงู ู ุดููุฏ ).

`RUN`: ุฏุณุชูุฑ ูุง ููุฑุฏ ูุงุฒ ุฑุง ุฏุฑ ุงู ูุณูุช ูุฑุงุฑ ู ุฏูู ุชุง ุจุนุฏ ุงุฒ ฺฉูพ ุดุฏูุ ุงุฌุฑุง ุดููุฏ.

`CMD`: ุขุฎุฑู ุฏุณุชูุฑ ููุฑุฏ ูุงุฒ ุจุฑุง ุงุฌุฑุง ุดุฏู ุจุฑูุงูู ู ุจุงุดุฏ ฺฉ ุจุงุฏ ุขุฑุงู ุง ุงุฒ ฺฉููุงุช ( ูุซูุง ุฏุณุชูุฑ ุจุงูุง ูููุน ุงุฌุฑุง ุดุฏู ุจู **npm start** ุชุจุฏู ู ุดูุฏ ).

`EXPOSE`: ูพูุฑุช ููุฑุฏ ูุธุฑ ุจุฑุง ุงุฌุฑุง ุดุฏู ุจุฑูุงูู ุฑุง ูุดุฎุต ู ฺฉูู.

๐ ุญุงู ุชูุณุท ุฏุณุชูุฑ ุฒุฑ ู ุชูุงู **Dockerfile** ุฑุง ุงุฌุฑุง ฺฉูู:

<div dir="ltr">

```cmd
    docker build --tag hami-dashboard .
```

</div>

ฺฉู **tag** ูุงู **image** ุณุงุฎุชู ุดุฏู ุฑุง ุชุนู ู ฺฉูุฏ ู ููุทู ( . ) ูุณุฑ ุณุงุฎุช **image** ู ุจุงุดุฏ.

## ุณุงุฎุช ฺฉุงูุชูุฑ

ุญุงู ุชูุณุท ุฏุณุชูุฑ ุฒุฑ **container** ููุฑุฏ ูุธุฑ ุฑุง ุจุฑ ุงุณุงุณ **image** ุณุงุฎุชู ุดุฏู ู ุณุงุฒู ู ุงุฌุฑุง ู ฺฉูู:

<div dir="ltr">

```cmd
    docker run --name hami-dashboard -p 3010:3000 -d hami-dashboard
```

</div>

`name`: ฺฉู ุงุณู ุจุนุฏ ุงุฒ ูพุฑฺู **name** ุฏุฑ ูุงูุน ูุงู **container** ูุง ู ุจุงุดุฏ ู ู ุชูุงูุฏ ูุงู ูุชูุงูุช ุงุฒ ูุงู **image** ุจุงุดุฏ

`-p`: ( ูุฎูู publish ู ุจุงุดุฏ ) ุฏุฑ ูุงูุน ูุดุงูฺฏุฑ ู ุชุนู ฺฉููุฏู **port** ู ุจุงุดุฏ ู 2 ุขุฑฺฏููุงู ุฏุงุฑุฏ ฺฉ ุขุฑฺฏููุงู ุงูู **port** ุฏูุฎูุงู ูุง ู ุจุงุดุฏ ฺฉ ู ุฎูุงูู **app** ุฑุง ุจุง ุขู ูพูุฑุช ุจุจูู ู ุฏูู ูพูุฑุช ุงุตู **app** ูุง ู ุจุงุดุฏ ฺฉ **react** ุจู ุตูุฑุช ูพุด ูุฑุถ ุงุฒ ูพูุฑุช **3000** ุงุณุชูุงุฏู ู ฺฉูุฏ.

`-d`: ูุดุงูฺฏุฑ **detach** ุดุฏู ู ุจุงุดุฏ ุนู ุงฺฏุฑ ุจุฎูุงูู ุจุนุฏ ุงุฒ ุณุงุฎุช **container**ุ ุจุฎูุงูู ุจู ฺฉุงุฑูุงู ุงุฏุงูู ุฏูู ุงุฒ ุงู ูพุฑฺู ุงุณุชูุงุฏู ู ฺฉูู.

ู ุจุนุฏ ุงุฒ **-d** ูุงู **image** ุณุงุฎุชู ุดุฏู ุฑุง ุจุงุฏ ุฏุฑุณุช ูุงุฑุฏ ฺฉูู.

## docker-compose

ุจุฑุง ุจูุชุฑ ฺฉุฑุฏู ุงุฌุฑุง ุดุฏู **dockerFile** ู ูู ฺูู ุงุฌุฑุง ฺูุฏ **Service** ู ฺูุฏ **app** ููุฒูุงู ุจุง ูู ุงุฒ **docker-compose** ุงุณุชูุงุฏู ู ฺฉูู ู ููฺูู ุจู ูุง ุงู ุงูฺฉุงู ุฑุง ู ุฏูุฏ ฺฉู **image** ูุงูุงู ุฑุง ุฑุงุญุช ุชุฑ ุงูุชูุงู ุฏูู

ฺฉู ุจุฑุง **react** ู ุชูุงู ุงุฒ ฺฉุฏ ุฒุฑ ุงุณุชูุงุฏู ฺฉุฑุฏ:

<div dir="ltr">

```docker
    version: "3.9"
    services:
        hdreact:
            build:
                context: .
            volumes:
                - .:/hami-dashboard
            ports:
                - 3010:3000
            image: hdreact:react
            container_name: hami-dashboard
            stdin_open: true
            # command: npm start
            restart: unless-stopped
```

</div>

`version`: ุฏุฑ ูุงูุน ูุฑฺู ุฎูุฏ **docker-compose** ู ุจุงุดุฏ.

`services`: ูุณุช ุณุฑูุณ ูุง ูุง ู ุจุงุดูุฏ ฺฉู ูุฑ ุณุฑูุณ ุจุงุฏ ฺฉ ูุงู ุฏุงุดุชู ุจุงุดุฏ.

`hdreact`: ูุงู **service** ูุง ู ุจุงุดุฏ ฺฉู ุชูุงู ููุงุฑุฏ ูุฑุจูุท ุจู ุงู ุณุฑูุณ ุจุงุฏ ุฒุฑ ุขู ุจุง ูุงุตูู ูุฑุงุฑ ุจฺฏุฑุฏ.( ูุงู ุฏูุฎูุงู ู ุจุงุดุฏ. )

`build`: ูุณุฑ ู ูุงู **dockerFile** ุฎูุฏ ุฑุง ูุฑุงุฑ ู ุฏูู ฺฉู ุฏุฑ ุงูุฌุง ุจุฑุง ูุณุฑุฏู ุงุฒ `context` ุงุณุชูุงุฏู ู ฺฉูู ู ุขุฏุฑุณ **dockerFile** ุฑุง ู ุฏูู.

`volumes`: ูุณุฑ ูุงู ูุง ฺฉู ู ุฎูุงูู ุจู ุตูุฑุช ุฏุงูุงูฺฉ ุชุบุฑุงุช ุฑุง ุงุนูุงู ฺฉููุฏุ ูุดุฎุต ู ฺฉูู. ุนู ุฏุฑ ฺฉุฏ ูุง ุฏุงุฎู ุณุณุชู ูุฑ ุชุบุฑ ุงุฌุงุฏ ุดูุฏุ ุฏุฑ ุฏุงฺฉุฑ ูุฒ ุชุบุฑ ุงุนูุงู ุดูุฏ. ( ุฏุฑ ุงูุฌุง ฺฉู ูุงู ูพุฑูฺู ู ุจุงุดุฏ )

`ports`: ู ุชูุงู ุจุฑุง ูุฑ ูพูุฑุช **app** ูุงู ฺฉ ูพูุฑุช ุฌุงฺฏุฒู ูุฑุงุฑ ุฏูู ุชุง ุฏุฑ ุฏุงฺฉุฑ ุจุง ฺฉ ูพูุฑุช ุฏฺฏุฑ ุงุฌุฑุง ุดูุฏ.( ุณูุช ฺูพ ูพูุฑุช ุฏูุฎูุงููุงู ฺฉู ู ุฎูุงูู ุงุดุบุงู ุดูุฏ ู ุณูุช ุฑุงุณุช ูพูุฑุช **app** ูุงู ู ุจุงุดุฏ ฺฉู ุฏุงุฎู ุฏุงฺฉุฑ ุงุฌุฑุง ู ุดูุฏุ ุนู ูพูุฑุช **3000** ุฑุง ุจู **3010** ุนูุถ ฺฉู. )

`image`: ฺฉ ูุงู ุฏูุฎูุงู ุจุฑุง **image** ูุงู ู ุจุงุดุฏ ฺฉู ุจูุชุฑ ุงุณุช ูู ูุงู **service** ูุงู ุจุงุดุฏ.( ฺฉู ุงูู ูุงู **image** ู ุฏูู **tag** ุขู ู ุจุงุดุฏ )

`container_name`: ฺฉ ูุงู ุฏูุฎูุงู ุจุฑุง ฺฉุงูุชูุฑ ูุงู ู ุจุงุดุฏ.

`stdin_open`: ูุฑุจูุท ุจู **react** ู ุจุงุดุฏ ฺฉู ุจุง ูุฑ ุชุบุฑ ุณุฑุน ุตูุญู ุฑูุฑุด ุดูุฏ.

`command`: ุจู ุฌุง `CMD` ุฏุฑ **dockerFile**ุ ู ุชูุงู ุฏุฑ **docker-compose** ูู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉุฑุฏ.

`restart`: ุชูุณุท ุงู ุฏุณุชูุฑุ ฺฉุงูุชูุฑ ฺฉู ุงุณุชุงูพ ู ุดูุฏุ ุฏูุจุงุฑู **restart** ู ุดูุฏุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ.

๐ ูุงุตูู ูุง ุฏุฑ **docker-compose** ุจุณุงุฑ ููู ู ุจุงุดุฏ.

ุญุงู ุชูุณุท ุฏุณุชูุฑ ุฒุฑ ู ุชูุงู ูพุฑูฺู ุฑุง **build** ู ฺฉูู ู ููุฒูุงู ุงุฌุฑุง ูุฒ ู ุดูุฏ:

<div dir="ltr">

```cmd
    docker-compose up -d
```

</div>

## ููุงุฑุฏ ุงุถุงูู

๐ ุชูุณุท ุฏุณุชูุฑ ุฒุฑ ู ุชูุงู ูุณุช **image** ูุง ุฑุง ุฏุฏ:

<div dir="ltr">

```cmd
    docker images
```

</div>

๐ ูุชูุงู ุจุฑุง ฺฉูพ ูฺฉุฑุฏู ูุงู ูุง ู ูููุฏุฑ ูุง ฺฉ ูุงุฒ ูุฏุงุฑู ฺฉ ูุงู **dockerignore.** ุจุณุงุฒู ู ูุงููุฏ ฺฉุฏ ุฒุฑ ูุงู ูุงู ูุง ู ูููุฏุฑ ูุง ุบุฑ ุถุฑูุฑ ุฑุง ุจููุณู:

<div dir="ltr">

```
    node_modules
    build
    .dockerignore
    Dockerfile
    Dockerfile.prod
```

</div>

๐ ู ุชูุงู ุชูุณุท ุฏุณุชูุฑ ุฒุฑ ( ููฺฏุงู ฺฉู **image** ุฏุงุฑู) ุฏูุจุงุฑู ูพุฑูฺู ุฑุง **rebuild** ฺฉูู:

<div dir="ltr">

```docker
    docker-compose up -d --force-recreate --build
```

</div>



